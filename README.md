# Proyek-Pertama-Machine-Learning-Terapan

###### Disusun oleh : Adhim Khairil Anam
Ini adalah proyek pertama analisis prediktif untuk memenuhi submission Dicoding Kelas Machine Learning Terapan.

## 1. Project Domain

### Latar Belakang
Domain proyek "Medical Insurance Premium Prediction". Proyek ini berfokus pada sektor asuransi kesehatan, yang merupakan bagian vital dari industri asuransi secara keseluruhan. Asuransi kesehatan menyediakan perlindungan finansial terhadap risiko medis bagi individu dan keluarga mereka, dengan membebankan sejumlah premi kepada nasabah sebagai imbalan atas jaminan perlindungan tersebut.

Keterkaitan Proyek dengan Industri Asuransi Kesehatan:

1. Estimasi Premi yang Lebih Presisi
Model prediktif yang dikembangkan dalam proyek ini dirancang untuk membantu perusahaan asuransi dalam menghitung premi asuransi kesehatan secara lebih akurat. Model ini memanfaatkan berbagai variabel yang berpengaruh terhadap risiko kesehatan seseorang—seperti usia, riwayat penyakit kronis, keberadaan penyakit kanker dalam keluarga, riwayat operasi besar, serta data antropometrik seperti tinggi dan berat badan—untuk memberikan estimasi premi yang sesuai dengan profil risiko individu.

2. Keadilan dalam Penetapan Premi
Pendekatan berbasis data ini juga bertujuan menciptakan sistem penetapan premi yang lebih adil. Dengan mempertimbangkan seluruh faktor risiko yang relevan secara menyeluruh, model ini membantu menghindari ketimpangan dalam perhitungan premi. Artinya, nasabah akan dikenakan biaya asuransi yang sepadan dengan tingkat risiko kesehatan mereka, sehingga tercipta rasa keadilan dalam pembiayaan perlindungan kesehatan.

Keuntungan bagi Perusahaan Asuransi:

Perhitungan Premi Berdasarkan Risiko Nyata:
Model ini memungkinkan perusahaan asuransi menentukan besaran premi berdasarkan risiko aktual yang dimiliki setiap individu. Pendekatan ini membantu perusahaan dalam mengelola potensi kerugian dan menjaga kestabilan finansial jangka panjang.

Efisiensi Proses Penetapan Premi:
Dengan mengintegrasikan teknologi analitik dalam penetapan tarif, perusahaan dapat mempercepat proses penilaian risiko dan penghitungan premi, sehingga menghemat waktu dan sumber daya operasional.

Keuntungan bagi Calon Nasabah:

Premi yang Proporsional dan Transparan:
Melalui analisis komprehensif terhadap faktor risiko, calon nasabah akan menerima penawaran premi yang sebanding dengan profil kesehatan mereka. Hal ini mempermudah mereka dalam memahami dasar perhitungan premi dan menerima besarannya dengan lebih terbuka.

Perlindungan yang Disesuaikan dengan Kebutuhan:
Dengan premi yang dihitung berdasarkan risiko individu, nasabah memperoleh perlindungan finansial yang sesuai dengan kondisi dan kebutuhan medis pribadi mereka. Ini memberikan rasa aman yang lebih tinggi terhadap kemungkinan risiko kesehatan di masa depan.

Proyek Medical Insurance Premium Prediction memberikan kontribusi yang nyata bagi kedua belah pihak—perusahaan asuransi maupun calon nasabah. Perusahaan dapat meningkatkan akurasi dan efisiensi dalam menentukan premi, sementara nasabah menerima estimasi biaya yang lebih adil dan perlindungan yang sesuai dengan kebutuhan kesehatan mereka.

## 2. Business Understanding
Proyek ini dirancang untuk sebuah perusahaan asuransi kesehatan dengan ciri-ciri bisnis sebagai berikut:

1. Perusahaan Berbasis Data dan Analitik:
Perusahaan ini memiliki fokus kuat pada pemanfaatan data untuk mendukung pengambilan keputusan strategis. Mereka memahami pentingnya teknologi analitik prediktif dan algoritma machine learning dalam menghitung premi asuransi secara tepat berdasarkan risiko individual.

2. Ketersediaan Data Nasabah yang Lengkap:
Perusahaan memiliki akses ke data pelanggan yang komprehensif dan mendalam. Data ini mencakup informasi demografis seperti usia, histori kesehatan, riwayat medis keluarga, alergi, catatan operasi, hingga data antropometrik seperti berat dan tinggi badan. Seluruh informasi ini menjadi aset penting dalam pembangunan model prediktif yang andal.

3. Orientasi pada Daya Saing Pasar:
Untuk memenangkan persaingan di sektor asuransi kesehatan, perusahaan berupaya memanfaatkan teknologi prediktif guna menyempurnakan sistem perhitungan premi, menawarkan tarif yang lebih presisi, dan menghadirkan produk yang unggul dan kompetitif bagi calon nasabah.
Dengan memahami kondisi dan orientasi bisnis perusahaan ini, proyek ini dirancang untuk memberikan solusi yang selaras dengan kebutuhan dan target bisnis mereka.

Melalui proyek Medical Insurance Premium Prediction, perusahaan dengan karakteristik seperti di atas dapat meraih berbagai manfaat berikut:

1. Perhitungan Premi yang Lebih Tepat Sasaran:
Model prediktif yang dikembangkan mampu menyajikan estimasi premi berdasarkan variabel risiko yang relevan seperti usia, histori medis, riwayat keluarga, hingga data fisik pelanggan. Dengan pendekatan berbasis data ini, perusahaan dapat menghitung premi dengan lebih akurat dan konsisten, sekaligus meminimalisir risiko kerugian akibat penetapan premi yang tidak tepat.

2. Efisiensi Proses dan Peningkatan Produktivitas:
Penggunaan teknologi machine learning memungkinkan proses penetapan premi dilakukan secara otomatis, cepat, dan minim kesalahan. Ini mengurangi ketergantungan pada metode manual, menghemat waktu operasional, serta meningkatkan efektivitas sumber daya manusia yang dimiliki perusahaan.

3. Pengambilan Keputusan yang Lebih Terinformasi:
Model ini memberi wawasan yang lebih tajam terkait faktor-faktor risiko yang berpengaruh terhadap premi. Dengan analisis ini, perusahaan dapat memahami perilaku dan kebutuhan pelanggan secara lebih mendalam, sekaligus menemukan pola dan tren yang dapat digunakan untuk pengembangan strategi bisnis yang lebih terarah.

4. Meningkatkan Daya Saing di Industri:
Dengan model perhitungan premi yang lebih akurat dan berbasis data, perusahaan mampu menyusun penawaran yang lebih menarik dan kompetitif. Ini membuka peluang untuk menjangkau lebih banyak calon nasabah, memperluas basis pelanggan, dan membangun loyalitas jangka panjang.

Secara keseluruhan, implementasi model prediktif dalam proyek ini memberi perusahaan alat yang kuat untuk meningkatkan kualitas keputusan bisnis, mengoptimalkan operasional, memperkuat posisi kompetitif, serta memberikan layanan yang lebih sesuai dan memuaskan bagi pelanggan mereka.

## 3. Problem Statements

- Apa langkah yang dapat diambil untuk meningkatkan akurasi dalam menentukan premi asuransi kesehatan?
Perusahaan asuransi sering menghadapi kesulitan dalam menetapkan premi yang tepat dan proporsional untuk calon pemegang polis, karena keterbatasan dalam memahami variabel-variabel yang memengaruhi besaran premi.

Melalui proyek ini, kami berupaya mengatasi permasalahan tersebut dengan membangun model prediktif berbasis data yang mampu menghasilkan estimasi premi dengan tingkat akurasi yang lebih tinggi dan konsisten.

- Bagaimana caranya untuk meningkatkan transparansi dalam penetapan premi asuransi kesehatan?
Calon nasabah kerap merasa tidak mendapatkan kejelasan terkait alasan di balik besaran premi yang ditawarkan kepada mereka. Ketidakpahaman ini menimbulkan kesan bahwa proses penentuan premi dilakukan secara tidak transparan.

Dalam proyek ini, kami akan mengidentifikasi dan menampilkan faktor-faktor kunci yang paling berpengaruh dalam perhitungan premi. Dengan demikian, calon pemegang polis dapat memahami dasar logis di balik nilai premi yang dikenakan kepada mereka.

- Bagaimana risiko keuangan yang terkait dengan penentuan premi yang tidak akurat dapat dikurangi?
Penetapan premi yang tidak sesuai dapat memicu risiko finansial bagi perusahaan. Jika premi terlalu rendah untuk kelompok berisiko tinggi, klaim yang diajukan bisa melebihi pendapatan premi. Sebaliknya, premi yang terlalu tinggi dapat menyebabkan penurunan minat terhadap produk asuransi.

Melalui pendekatan prediktif berbasis risiko individual, proyek ini bertujuan meminimalkan ketidakseimbangan tersebut dan mendukung kebijakan premi yang lebih realistis dan berkelanjutan.

Contoh Faktor Spesifik yang Menyebabkan Masalah Tersebut:
1. Kurangnya akurasi dalam penentuan premi:

  - Permasalahan: Ketidakjelasan dalam identifikasi faktor risiko utama yang memengaruhi biaya asuransi, seperti riwayat kesehatan pribadi dan keluarga, gaya hidup, usia, atau jenis kelamin.

  - Ilustrasi: Seorang individu dengan riwayat keluarga penyakit jantung mungkin dikenakan premi yang tidak sesuai karena kurangnya pemahaman terhadap korelasi antara faktor genetik dan risiko kesehatan.

2. Minimnya transparansi dalam proses penetapan premi:

  - Permasalahan: Informasi yang terbatas mengenai elemen-elemen yang digunakan dalam perhitungan premi menyebabkan kebingungan bagi calon pemegang polis.

  - Ilustrasi: Calon nasabah tidak menyadari bahwa variabel seperti kebiasaan merokok, indeks massa tubuh (BMI), atau riwayat medis sebelumnya secara signifikan memengaruhi nilai premi.

3. Tingginya risiko keuangan bagi perusahaan:

  - Permasalahan: Ketidaktepatan dalam menetapkan premi dapat menimbulkan ketidakseimbangan antara pendapatan premi dan biaya klaim.

  - Ilustrasi: Apabila perusahaan menetapkan premi rendah untuk kelompok dengan risiko kesehatan tinggi, klaim yang diterima bisa melampaui nilai premi yang terkumpul, sehingga mengganggu stabilitas finansial perusahaan.

Solusi Melalui Proyek Ini:
Dalam proyek Medical Insurance Premium Prediction, berbagai faktor risiko akan dianalisis secara menyeluruh dan dimasukkan sebagai variabel input dalam model prediktif. Dengan menerapkan teknik machine learning, model ini akan mengestimasi premi secara lebih presisi berdasarkan karakteristik risiko individu.

Selain menghasilkan estimasi premi yang lebih akurat, model ini juga akan mengungkap faktor-faktor utama yang berkontribusi terhadap perhitungan premi. Dengan demikian, perusahaan asuransi dapat menyampaikan informasi yang lebih jelas kepada calon nasabah, meningkatkan transparansi dan membangun kepercayaan yang lebih tinggi terhadap produk asuransi yang ditawarkan.

## 4. Goals

Proyek ini dirancang dengan sejumlah tujuan utama sebagai berikut:

1. Pengembangan Model Prediktif
Sasaran utama proyek ini adalah membangun sebuah model prediksi yang mampu mengestimasi premi asuransi kesehatan dengan akurasi yang tinggi. Melalui pemanfaatan teknik machine learning dan analisis data yang menyeluruh, proyek ini bertujuan menghasilkan model yang dapat memperkirakan besaran premi berdasarkan parameter risiko yang relevan dari masing-masing individu.

2. Peningkatan Tingkat Transparansi
Proyek ini juga bertujuan untuk memperjelas proses penetapan premi asuransi kepada calon pemegang polis. Dengan mengenali faktor-faktor yang memiliki pengaruh signifikan terhadap besaran premi, proyek ini berupaya memberikan pemahaman yang lebih dalam kepada pelanggan mengenai alasan di balik jumlah premi yang dikenakan, sehingga dapat menumbuhkan rasa percaya dan kepuasan terhadap penyedia layanan asuransi.

3. Pengurangan Risiko Finansial
Tujuan lain yang ingin dicapai adalah membantu perusahaan asuransi dalam menekan risiko keuangan yang dapat timbul akibat ketidaktepatan dalam penentuan premi. Melalui estimasi premi yang lebih akurat dan berbasis pada faktor risiko yang aktual, perusahaan dapat lebih efektif dalam mengelola risiko finansial, menghindari potensi kerugian, serta menjaga stabilitas ekonomi perusahaan.

Metrik Evaluasi Keberhasilan:
Untuk menilai sejauh mana tujuan proyek ini berhasil dicapai, digunakan beberapa metrik evaluasi berikut:

- Akurasi Prediksi
Digunakan untuk mengukur tingkat ketepatan model dalam memperkirakan premi asuransi. Semakin tinggi akurasi yang dicapai, semakin besar kontribusi model terhadap pencapaian tujuan pertama.

- Indeks Transparansi
Dapat diukur melalui survei terhadap calon pemegang polis guna menilai pemahaman mereka atas dasar perhitungan premi yang diterapkan. Peningkatan pemahaman dan kepercayaan menunjukkan pencapaian terhadap tujuan peningkatan transparansi.

- Indikator Risiko Keuangan
Dapat dinilai dengan membandingkan performa keuangan perusahaan asuransi sebelum dan sesudah implementasi model prediktif. Penurunan tingkat kerugian atau peningkatan stabilitas keuangan menjadi indikator keberhasilan dalam tujuan pengurangan risiko finansial.

- Mean Squared Error (MSE)
Metrik statistik ini digunakan untuk mengukur selisih kuadrat antara nilai premi prediksi dan nilai aktual. Semakin kecil nilai MSE, semakin baik kinerja model dalam memberikan estimasi yang mendekati kenyataan.

Pemilihan dan penerapan metrik yang sesuai dengan sasaran proyek sangat penting untuk memastikan evaluasi yang objektif dan mendalam terhadap hasil implementasi, baik dari sisi operasional perusahaan maupun dari perspektif calon nasabah.

## 5. Solution statements

Solusi untuk proyek ini dirancang melalui sejumlah tahap terstruktur dan pemanfaatan algoritma pembelajaran mesin yang sesuai. Penjabaran solusi secara rinci disampaikan sebagai berikut:

1. Analisis Data Awal (Exploratory Data Analysis - EDA)

  - Sebelum model dibangun dan dilatih, langkah pertama adalah melakukan eksplorasi data untuk memahami struktur, distribusi, dan pola dalam dataset.

  - Proses EDA ini bertujuan untuk mengidentifikasi korelasi antar variabel, mengenali anomali atau pencilan dalam data, serta menggali wawasan awal yang penting     untuk menunjang proses pemodelan prediksi premi asuransi kesehatan.

2. Penerapan Algoritma SVR dan Huber Regressor

  - Algoritma Support Vector Regression (SVR) dan Huber Regressor dipilih sebagai pendekatan utama dalam membangun model prediktif.

  - SVR merupakan metode regresi yang mampu memetakan hubungan kompleks antara variabel input dan output. Dalam proyek ini, SVR digunakan untuk memperkirakan nilai premi berdasarkan profil risiko individu.

  - Sementara itu, Huber Regressor dikenal memiliki ketahanan terhadap pencilan (outlier), menjadikannya solusi ideal untuk data yang tidak sepenuhnya bersih atau memiliki nilai ekstrem. Algoritma ini mampu memberikan hasil prediksi yang konsisten dan andal meskipun terdapat gangguan data.

3. Pemanfaatan Library PyCaret

  - Untuk mempercepat dan mempermudah proses pemodelan, proyek ini akan menggunakan PyCaret, sebuah library otomasi pembelajaran mesin yang mendukung berbagai algoritma.

  - PyCaret memungkinkan eksplorasi dan komparasi berbagai model machine learning secara efisien, sehingga mempermudah proses pemilihan model yang paling sesuai dengan karakteristik data yang tersedia.

  - Selain itu, fitur-fitur otomatisasi dalam PyCaret mempercepat siklus pengujian model tanpa mengorbankan akurasi atau kualitas hasil.

4. Evaluasi Model Menggunakan Mean Squared Error (MSE)

  - Untuk menilai performa model yang dikembangkan, digunakan metrik Mean Squared Error (MSE), yang merupakan ukuran standar dalam kasus regresi.

  - MSE menghitung rata-rata kuadrat selisih antara nilai yang diprediksi oleh model dan nilai aktual, memberikan indikasi seberapa jauh estimasi premi yang dihasilkan dari kenyataan.

  - Semakin kecil nilai MSE, semakin akurat dan andal model tersebut dalam melakukan prediksi.
Pemilihan algoritma terbaik dalam proyek ini dilakukan secara iteratif melalui proses evaluasi kinerja menggunakan PyCaret. Model-model yang dibangun akan diuji dan dibandingkan berdasarkan nilai MSE untuk memastikan solusi akhir yang dipilih adalah yang paling optimal dalam memprediksi premi asuransi kesehatan.

Dengan strategi pemodelan seperti ini, proyek diharapkan mampu menghasilkan sistem prediktif yang unggul dalam ketepatan, efisiensi, dan relevansi terhadap kebutuhan industri asuransi kesehatan.

## 6. Data Understanding

Dataset yang digunakan dalam proyek ini merupakan data parameter terkait kesehatan yang diberikan hampir oleh 1000 konsumen secara sukarela.

Dataset dapat diunduh di: [Medical Insurance Premium Prediction](https://www.kaggle.com/datasets/tejashvi14/medical-insurance-premium-prediction).

### Sample data
| Age | Diabetes | BloodPressureProblems | AnyTransplants | AnyChronicDiseases | Height | Weight | KnownAllergies | HistoryOfCancerInFamily | NumberOfMajorSurgeries | PremiumPrice |
|-----|----------|-----------------------|----------------|--------------------|--------|--------|----------------|-------------------------|-----------------------|--------------|
| count | 986.000000 | 986.000000 | 986.000000 | 986.000000 | 986.000000 | 986.000000 | 986.000000 | 986.000000 | 986.000000 | 986.000000 |
| mean | 41.745436 | 0.419878 | 0.468560 | 0.055781 | 0.180527 | 168.182556 | 76.950304 | 0.215010 | 0.117647 | 0.667343 | 24336.713996 |
| std | 13.963371 | 0.493789 | 0.499264 | 0.229615 | 0.384821 | 10.098155 | 14.265096 | 0.411038 | 0.322353 | 0.749205 | 6248.184382 |
| min | 18.000000 | 0.000000 | 0.000000 | 0.000000 | 0.000000 | 145.000000 | 51.000000 | 0.000000 | 0.000000 | 0.000000 | 15000.000000 |
| 25% | 30.000000 | 0.000000 | 0.000000 | 0.000000 | 0.000000 | 161.000000 | 67.000000 | 0.000000 | 0.000000 | 0.000000 | 21000.000000 |
| 50% | 42.000000 | 0.000000 | 0.000000 | 0.000000 | 0.000000 | 168.000000 | 75.000000 | 0.000000 | 0.000000 | 1.000000 | 23000.000000 |
| 75% | 53.000000 | 1.000000 | 1.000000 | 0.000000 | 0.000000 | 176.000000 | 87.000000 | 0.000000 | 0.000000 | 1.000000 | 28000.000000 |
| max | 66.000000 | 1.000000 | 1.000000 | 1.000000 | 1.000000 | 188.000000 | 132.000000 | 1.000000 | 1.000000 | 3.000000 | 40000.000000 |

Berikut informasi pada dataset :

- Dataset memiliki format CSV (Comma-Seperated Values).
- Dataset memiliki 986 sample dengan 11 fitur.
- Dataset memiliki 11 fitur bertipe int64.
- Tidak ada missing value dalam dataset.

### Variabel-variabel pada Medical Insurance Premium Prediction dataset adalah sebagai berikut:
- Age : merupakan rentang umur dari pasien tersebut
- Diabetes : apakah pasien tersebut memiliki kadar gula darah abnormal atau tidak
- BloodPressureProblems: apakah pasien tersebut memiliki tingkat tekanan darah abnormal
- AnyTransplants: pernah melakukan transplantasi organ utama apapun
- AnyChronicDiseases: apakah pasien menderita penyakit kronis seperti asthama, dll
- Height: rentang tinggi badan pasien
- Weight: rentang berat badan pasien
- KnownAllergies: apakah pasien memiliki alergi yang diketahui
- HistoryOfCancerInFamily: apakah ada relatif darah dari pasien yang mengidap bentuk kanker apa pun
- NumberOfMajorSurgeries: jumlah operasi besar yang dijalani pasien tersebut
- PremiumPrice: harga premium tahunan

### Pendalaman Data Understanding
- Melakukan tahapan EDA seperti mendeskripsikan variabel, mencari *outlier*s, Univariate hingga Multi-variate analysis.
- Untuk menganalisa *outlier*s bisa menggunaka boxplot dengan memanggil fungsi .plot() pada pandas
- Mengecek data missing value dan membersihkan data missing value dengan membuat simple logic program
- Menggunakan histogram untuk melihat penyebaran data dengan *library* pandas fungsi .hist()
- Mencari keterkaitan antar fitur numerik dan fitur kategori dengan correlation matrix menggunakan fungsi pandas dan visualisasi heatmap dengan seaborn.

